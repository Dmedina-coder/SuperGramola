<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<div class="container">
	<form class="cuadro" (ngSubmit)="actualizarDatos()">
		<div>
			<a class="back-arrow" routerLink="/gramola">
				<span class="material-icons" style="color: black; font-size: 1.2rem;">arrow_back</span>		
			</a>
			<h2>Editar Perfil</h2>
		</div>

		<div>
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" [(ngModel)]="email" placeholder="tu@email.com" [disabled]="true" required>
		</div>

		<div>
			<label for="password">Nueva Contrase√±a (opcional):</label>
			<input type="password" id="pwd1" name="pwd1" [(ngModel)]="pwd1" placeholder="M√≠nimo 8 caracteres">
		</div>

		<div>
			<label for="confirmPassword">Confirmar Nueva Contrase√±a:</label>
			<input type="password" id="pwd2" name="pwd2" [(ngModel)]="pwd2" placeholder="Repite tu contrase√±a">
		</div>

		<div>
			<label for="nombreBar">Nombre del Bar:</label>
			<input type="text" id="nombreBar" name="nombreBar" [(ngModel)]="nombreBar" placeholder="Nombre de tu establecimiento" required>
		</div>

		<div>
			<label for="ubicacionBar">Ubicaci√≥n del Bar:</label>
			<div style="display: flex; gap: 8px; align-items: center;">
				<input type="text" id="ubicacionBar" name="ubicacionBar" [(ngModel)]="ubicacionBar" placeholder="Ciudad, direcci√≥n o ubicaci√≥n" required style="flex: 1;">
				<button type="button" (click)="abrirGoogleMaps()" style="padding: 8px 12px; background-color: #4285f4; color: white; border: none; border-radius: 8px; cursor: pointer; white-space: nowrap; display: flex; align-items: center; gap: 4px;" title="Buscar en Google Maps">
					<span class="material-icons" style="font-size: 1rem;">place</span>
					Mapa
				</button>
			</div>
			<p style="margin: 5px 0 0 0; font-size: 0.75rem; color: #666;">
				Busca tu ubicaci√≥n en el mapa y copia la direcci√≥n completa
			</p>
		</div>

		<div>
			<label for="costeCancion">Coste por Canci√≥n (‚Ç¨):</label>
			<input type="number" id="costeCancion" name="costeCancion" [(ngModel)]="costeCancion" placeholder="0.50" step="0.01" min="0" required>
		</div>

		<div style="margin-top: 15px; padding: 12px; background-color: #e8f5e9; border-left: 4px solid #1DB954; border-radius: 8px;">
			<p style="margin: 0 0 8px 0; font-weight: 600; color: #1a1a1a; font-size: 0.95rem;">
				üéµ Credenciales de Spotify
			</p>
			<p style="margin: 0; font-size: 0.85rem; color: #666; line-height: 1.4;">
				Actualiza tus credenciales desde tu 
				<a href="https://developer.spotify.com/dashboard" target="_blank">Spotify Developer Dashboard</a>.
			</p>
		</div>

		<div>
			<label for="clientId">Client ID de Spotify:</label>
			<input type="text" id="clientId" name="clientId" [(ngModel)]="clientId" placeholder="Tu Client ID" required>
		</div>

		<div>
			<label for="clientSecret">Client Secret de Spotify:</label>
			<input type="text" id="clientSecret" name="clientSecret" [(ngModel)]="clientSecret" placeholder="Tu Client Secret" required>
		</div>

		<button type="submit">Actualizar Datos</button>

		<button type="cancel" (click)="eliminarCuenta()" style="background-color: #dc3545; margin-top: 10px;">
			Eliminar Cuenta
		</button>

		<span id="valido" *ngIf="actualizacionOK">Datos actualizados correctamente</span>
		<span *ngIf="pwdDiferentes">Las contrase√±as no coinciden</span>
		<span *ngIf="emailInvalido">El email introducido no es v√°lido</span>
		<span *ngIf="camposIncompletos">Debes completar todos los campos</span>
	</form>
</div>
